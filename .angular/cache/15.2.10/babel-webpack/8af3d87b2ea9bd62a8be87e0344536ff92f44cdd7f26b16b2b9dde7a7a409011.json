{"ast":null,"code":"import { Question } from './quiz.interface';\nimport { Store, select } from '@ngrx/store';\nimport { QuizActions } from '../+state/quiz-app.actions';\nimport { combineLatest, map } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { selectCorrectAnswer, selectCurrentQuestion, selectCurrentQuestionIndex, selectCurrentScore, selectSelectedOption, selectTotalQuestions } from '../+state/quiz-app.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"selected-option\": a0,\n    \"correct-answer\": a1,\n    \"selected-previous\": a2\n  };\n};\nfunction QuizComponent_div_3_div_1_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function QuizComponent_div_3_div_1_button_15_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const option_r4 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r6.selectOption(option_r4));\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementStart(2, \"span\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(5, _c0, ctx_r3.selectedOption === option_r4, ctx_r3.correctAnswerClass === \"correct-answer\" && ctx_r3.isCorrectAnswer(option_r4), i0.ɵɵpipeBind1(1, 3, ctx_r3.getSelectedOptionIndex(i_r5))));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r4, \" \");\n  }\n}\nfunction QuizComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 2);\n    i0.ɵɵtext(2, \"Redux Angular Quiz\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"async\");\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"p\", 4);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 5);\n    i0.ɵɵtemplate(15, QuizComponent_div_3_div_1_button_15_Template, 5, 9, \"button\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 7)(17, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function QuizComponent_div_3_div_1_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.previousQuestion());\n    });\n    i0.ɵɵpipe(18, \"async\");\n    i0.ɵɵtext(19, \" Previous \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function QuizComponent_div_3_div_1_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.skipQuestion());\n    });\n    i0.ɵɵtext(21, \"Skip\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function QuizComponent_div_3_div_1_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.nextQuestion());\n    });\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(6, 9, ctx_r2.currentQuestionIndex$), \"/\", i0.ɵɵpipeBind1(7, 11, ctx_r2.totalQuestions$), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" Score: \", i0.ɵɵpipeBind1(10, 13, ctx_r2.currentScore$), \"/\", i0.ɵɵpipeBind1(11, 15, ctx_r2.totalQuestions$), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(data_r1.currentQuestion.question);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", data_r1.currentQuestion.options);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(18, 17, ctx_r2.isFirstQuestion$));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.isOptionSelected);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.nextBtn, \" \");\n  }\n}\nfunction QuizComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, QuizComponent_div_3_div_1_Template, 24, 19, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r1.currentQuestion);\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    currentQuestion: a0,\n    totalQuestions: a1\n  };\n};\nexport class QuizComponent {\n  // state: Quiz = {\n  //   totalQuestions: 0,\n  //   current_score: 0,\n  //   total_score: 0,\n  //   questions: [],\n  //   options: [],\n  //   currentQuestion: '',\n  //   current_Question_Index: 0,\n  // };\n  constructor(store, router) {\n    this.store = store;\n    this.router = router;\n    this.isOptionSelected = false;\n    this.selectedOption = null;\n    this.selectedOptionClass = null;\n    this.correctAnswerClass = null;\n    this.nextBtn = 'Next';\n  }\n  ngOnInit() {\n    this.store.dispatch(QuizActions.loadQuestions());\n    this.currentQuestionIndex$ = this.store.pipe(select(selectCurrentQuestionIndex), map(index => index + 1));\n    this.totalQuestions$ = this.store.pipe(select(selectTotalQuestions));\n    this.currentQuestion$ = this.store.pipe(select(selectCurrentQuestion));\n    this.totalQuestions$ = this.store.pipe(select(selectTotalQuestions));\n    this.correctAnswer$ = this.store.pipe(select(selectCorrectAnswer));\n    this.currentScore$ = this.store.pipe(select(selectCurrentScore));\n    // for previous question\n    this.isFirstQuestion$ = this.currentQuestionIndex$.pipe(map(index => index === 1));\n    this.isLastQuestion$ = combineLatest([this.currentQuestionIndex$, this.totalQuestions$]).pipe(map(([index, totalQuestions]) => {\n      console.log('Total Questions:', totalQuestions);\n      const lastQuestion = (index ?? 0) > (totalQuestions ?? 0);\n      return lastQuestion;\n    }));\n    // ===============================\n    this.store.pipe(select(selectSelectedOption)).subscribe(selectedOption => {\n      this.selectedOption = selectedOption;\n    });\n    this.selectedOptionIndex$ = this.currentQuestion$.pipe(map(currentQuestion => {\n      if (currentQuestion) {\n        return currentQuestion.options.indexOf(this.selectedOption || '');\n      }\n      return null;\n    }));\n    //this is only to show in console and otherwise not working at all\n    this.correctAnswer$.subscribe(correctAnswer => console.log('Correct Answer:', correctAnswer));\n    this.currentQuestionIndex$.subscribe(index => {\n      console.log('Current Question Index:', index);\n    });\n    this.currentQuestionIndex$.subscribe(index => {\n      if (index && index === 10) {\n        this.nextBtn = 'Complete';\n      }\n    });\n  }\n  getSelectedOptionIndex(i) {\n    return this.selectedOptionIndex$.pipe(map(index => index === i && this.selectedOption !== null));\n  }\n  // setCurrentQuestion(index: number) {\n  //   this.quizText = 'Redux Angular Quiz';\n  //   this.store.dispatch(QuizActions.setCurrentQuestionIndex({ index }));\n  // }\n  skipQuestion() {\n    console.log('skip');\n    this.store.dispatch(QuizActions.skipQuestion());\n    this.currentQuestionIndex$.subscribe(index => {\n      if (index && index > 10) {\n        this.router.navigate(['/skip']);\n      }\n    });\n  }\n  nextQuestion() {\n    this.store.dispatch(QuizActions.nextQuestion());\n    // reset styling\n    this.selectedOption = null;\n    this.selectedOptionClass = null;\n    this.correctAnswerClass = null;\n    this.isOptionSelected = false;\n    this.currentQuestionIndex$.subscribe(index => {\n      if (index && index > 10) {\n        this.router.navigate(['/result']);\n      }\n    });\n  }\n  previousQuestion() {\n    this.store.pipe(select(selectSelectedOption)).subscribe(selectedOption => {\n      console.log('Selected Option:', selectedOption);\n      // Dispatch the action after logging if necessary\n      this.store.dispatch(QuizActions.previousQuestion());\n    });\n  }\n  isCorrectAnswer(option) {\n    let correctAnswer;\n    this.store.pipe(select(selectCurrentQuestion)).subscribe(currentQuestion => {\n      if (currentQuestion) {\n        correctAnswer = currentQuestion.correctAnswer;\n      }\n    });\n    return !!correctAnswer && correctAnswer === option;\n  }\n  // Function to handle option selection\n  // selectOption(option: string) {\n  //   if (!this.selectedOption) {\n  //     this.selectedOption = option;\n  //     console.log('Selected Option:', this.selectedOption);\n  //     const isCorrect = this.isCorrectAnswer(option);\n  //     this.store.dispatch(QuizActions.selectOption({ option, isCorrect }));\n  //     if (isCorrect) {\n  //       this.store.dispatch(QuizActions.updateScore({ score: 1 }));\n  //     }\n  //     this.selectedOptionClass = isCorrect\n  //       ? 'correct-answer'\n  //       : 'incorrect-answer';\n  //     this.correctAnswerClass = 'correct-answer';\n  //     this.isOptionSelected = true;\n  //   }\n  // }\n  selectOption(option) {\n    if (!this.selectedOption) {\n      this.selectedOption = option;\n      console.log('Selected Option:', this.selectedOption);\n      const isCorrect = this.isCorrectAnswer(option);\n      // Update the state with the selected option\n      this.store.dispatch(QuizActions.selectOption({\n        option,\n        isCorrect\n      }));\n      if (isCorrect) {\n        this.store.dispatch(QuizActions.updateScore({\n          score: 1\n        }));\n      }\n      this.selectedOptionClass = isCorrect ? 'correct-answer' : 'incorrect-answer';\n      this.correctAnswerClass = 'correct-answer';\n      this.isOptionSelected = true;\n    }\n  }\n  static #_ = this.ɵfac = function QuizComponent_Factory(t) {\n    return new (t || QuizComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: QuizComponent,\n    selectors: [[\"quiz-app-quiz\"]],\n    decls: 6,\n    vars: 8,\n    consts: [[\"id\", \"section-1\", 1, \"section-1\"], [4, \"ngIf\"], [1, \"text-container\"], [1, \"flex\"], [1, \"question-style\"], [1, \"quiz-options\"], [\"class\", \"option-btn\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn-flex\"], [1, \"next-btn\", 3, \"disabled\", \"click\"], [1, \"next-btn\", 3, \"click\"], [1, \"option-btn\", 3, \"ngClass\", \"click\"], [1, \"alphabet\"]],\n    template: function QuizComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"main\");\n        i0.ɵɵelementContainerStart(2);\n        i0.ɵɵtemplate(3, QuizComponent_div_3_Template, 2, 1, \"div\", 1);\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpureFunction2(5, _c1, i0.ɵɵpipeBind1(4, 1, ctx.currentQuestion$), i0.ɵɵpipeBind1(5, 3, ctx.totalQuestions$)));\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.AsyncPipe],\n    styles: [\"body[_ngcontent-%COMP%] {\\n  background: #a8c0ff;\\n  font-family: Arial, Helvetica, sans-serif;\\n  color: #fff;\\n}\\n\\na[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: inherit;\\n}\\n\\nsection[_ngcontent-%COMP%] {\\n  background: #a8c0ff;\\n  background: linear-gradient(to right, #3f2b96, #a8c0ff);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100vh;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%] {\\n  background: rgba(217, 214, 228, 0.12);\\n  border-radius: 10px;\\n  padding: 40px;\\n  width: 26rem;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin: 1rem auto;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin: 1.4rem;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .question-style[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  font-size: 18px;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-options[_ngcontent-%COMP%] {\\n  margin: 15px 0;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  border-radius: 5px;\\n  background: #eee;\\n  margin-bottom: 15px;\\n  padding: 6px 0;\\n  position: relative;\\n  width: 100%;\\n  color: #000;\\n  cursor: pointer;\\n  border: none;\\n  outline: none;\\n  text-align: left;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .alphabet[_ngcontent-%COMP%] {\\n  border-radius: 5px;\\n  border: solid 1px #000;\\n  padding: 0.4rem 0.5rem 0.4rem;\\n  width: 2.3rem;\\n  margin: 0 1.3rem 0 0.7rem;\\n  display: flex;\\n  justify-content: center;\\n  color: #000;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .alphabet[_ngcontent-%COMP%] {\\n  background: #000;\\n  color: #fff;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\n  cursor: not-allowed !important;\\n  opacity: 0.9;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .btn-flex[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  margin: 2rem 0 0.3rem 0;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .btn-flex[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .btn-flex[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  font-weight: 600;\\n  font-size: 13px;\\n  margin: 0 auto;\\n  outline: none;\\n  padding: 0.8rem 1.5rem;\\n  text-align: center;\\n  cursor: pointer;\\n  border: none;\\n  outline: none;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .btn-flex[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%] {\\n  background: rgb(0, 24, 130);\\n  color: #fff;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .btn-flex[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:disabled {\\n  cursor: not-allowed !important;\\n  opacity: 0.6;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .btn-flex[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%] {\\n  background: #fff;\\n  color: rgb(0, 24, 130);\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .btn-flex[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]:hover {\\n  background: rgba(255, 255, 255, 0.671);\\n  color: rgba(0, 0, 0, 0.749);\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-finished[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin: auto;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-finished[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-finished[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  padding: 0.4rem 0.9rem;\\n}\\nsection[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .quiz-finished[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%] {\\n  border-radius: 30px;\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n  width: 10rem;\\n  margin: 0 auto;\\n  outline: none;\\n  padding: 11px 0;\\n  text-align: center;\\n  cursor: pointer;\\n  border: none;\\n  outline: none;\\n  background: rgb(0, 24, 130);\\n  color: #fff;\\n}\\n\\n.selected-option[_ngcontent-%COMP%] {\\n  background-color: #F44336 !important;\\n}\\n\\n.correct-answer[_ngcontent-%COMP%], .selected-previous[_ngcontent-%COMP%] {\\n  background-color: #4CAF50 !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2FwcHMvcXVpei1yZWR1eC1hcHAvc3JjL2FwcC9xdWl6L3F1aXouY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtFQUNBLHlDQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtFQUVBLHVEQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FBQ0o7QUFDSTtFQUNJLHFDQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtBQUNSO0FBQ1E7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FBQ1o7QUFFUTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQUFaO0FBS1E7RUFDSSxnQkFBQTtFQUNBLGVBQUE7QUFIWjtBQU1RO0VBQ0ksY0FBQTtBQUpaO0FBTVk7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FBSmhCO0FBTWdCO0VBQ0ksa0JBQUE7RUFDQSxzQkFBQTtFQUNBLDZCQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtBQUpwQjtBQVFvQjtFQUNJLGdCQUFBO0VBQ0EsV0FBQTtBQU54QjtBQVVnQjtFQUNJLDhCQUFBO0VBQ0EsWUFBQTtBQVJwQjtBQWVRO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSx1QkFBQTtBQWJaO0FBZVk7O0VBRUksbUJBQUE7RUFDQSxnQkFBQTtFQUVBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFkaEI7QUFpQlk7RUFDSSwyQkFBQTtFQUNBLFdBQUE7QUFmaEI7QUFpQmdCO0VBQ0ksOEJBQUE7RUFDQSxZQUFBO0FBZnBCO0FBbUJZO0VBQ0ksZ0JBQUE7RUFDQSxzQkFBQTtBQWpCaEI7QUFtQmdCO0VBQ0ksc0NBQUE7RUFDQSwyQkFBQTtBQWpCcEI7QUFzQlE7RUFDSSxrQkFBQTtFQUNBLFlBQUE7QUFwQlo7QUFzQlk7O0VBRUksc0JBQUE7QUFwQmhCO0FBdUJZO0VBQ0ksbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsMkJBQUE7RUFDQSxXQUFBO0FBckJoQjs7QUE2QkE7RUFDSSxvQ0FBQTtBQTFCSjs7QUE2QkE7O0VBRUksb0NBQUE7QUExQkoiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcbiAgICBiYWNrZ3JvdW5kOiAjYThjMGZmO1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICAgIGNvbG9yOiAjZmZmO1xufVxuXG5hIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgY29sb3I6IGluaGVyaXQ7XG59XG5cbnNlY3Rpb24ge1xuICAgIGJhY2tncm91bmQ6ICNhOGMwZmY7XG4gICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMzZjJiOTYsICNhOGMwZmYpO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzNmMmI5NiwgI2E4YzBmZik7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGhlaWdodDogMTAwdmg7XG5cbiAgICBtYWluIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyMTcsIDIxNCwgMjI4LCAwLjEyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgcGFkZGluZzogNDBweDtcbiAgICAgICAgd2lkdGg6IDI2cmVtO1xuXG4gICAgICAgIC50ZXh0LWNvbnRhaW5lciB7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW46IDFyZW0gYXV0bztcbiAgICAgICAgfVxuXG4gICAgICAgIC5mbGV4IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgbWFyZ2luOiAxLjRyZW07XG5cbiAgICAgICAgICAgIC5zY29yZS10ZXh0IHt9XG4gICAgICAgIH1cblxuICAgICAgICAucXVlc3Rpb24tc3R5bGUge1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5xdWl6LW9wdGlvbnMge1xuICAgICAgICAgICAgbWFyZ2luOiAxNXB4IDA7XG5cbiAgICAgICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZWVlO1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogNnB4IDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjMDAwO1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuXG4gICAgICAgICAgICAgICAgLmFscGhhYmV0IHtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IHNvbGlkIDFweCAjMDAwO1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAuNHJlbSAuNXJlbSAuNHJlbTtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIuM3JlbTtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDEuM3JlbSAwIC43cmVtO1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMwMDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICAgICAgICAgIC5hbHBoYWJldCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAmOmRpc2FibGVkIHtcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC5idG4tZmxleCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgICAgICBtYXJnaW46IDJyZW0gMCAwLjNyZW0gMDtcblxuICAgICAgICAgICAgLm5leHQtYnRuLFxuICAgICAgICAgICAgLnNraXAtYnRuIHtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgICAgLy8gd2lkdGg6IDVyZW07XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC44cmVtIDEuNXJlbTtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAubmV4dC1idG4ge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYigwLCAyNCwgMTMwKTtcbiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjtcblxuICAgICAgICAgICAgICAgICY6ZGlzYWJsZWQge1xuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5za2lwLWJ0biB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDAsIDI0LCAxMzApO1xuXG4gICAgICAgICAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC42NzEpO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjc0OSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLnF1aXotZmluaXNoZWQge1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xuXG4gICAgICAgICAgICBoMSxcbiAgICAgICAgICAgIGgzIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjRyZW0gMC45cmVtO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAubmV4dC1idG4ge1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjFyZW07XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTByZW07XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMXB4IDA7XG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMCwgMjQsIDEzMCk7XG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuXG4uc2VsZWN0ZWQtb3B0aW9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjQ0MzM2ICFpbXBvcnRhbnQ7IC8vIEJsdWUgYmFja2dyb3VuZCBmb3Igc2VsZWN0ZWQgb3B0aW9uXG59XG5cbi5jb3JyZWN0LWFuc3dlcixcbi5zZWxlY3RlZC1wcmV2aW91cyB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MCAhaW1wb3J0YW50OyAvLyBHcmVlbiBiYWNrZ3JvdW5kIGZvciB0aGUgY29ycmVjdCBhbnN3ZXJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Question","Store","select","QuizActions","combineLatest","map","Router","selectCorrectAnswer","selectCurrentQuestion","selectCurrentQuestionIndex","selectCurrentScore","selectSelectedOption","selectTotalQuestions","i0","QuizComponent","constructor","store","router","ngOnInit","dispatch","loadQuestions","currentQuestionIndex$","pipe","index","totalQuestions$","currentQuestion$","correctAnswer$","currentScore$","isFirstQuestion$","isLastQuestion$","totalQuestions","console","log","lastQuestion","subscribe","selectedOption","selectedOptionIndex$","currentQuestion","options","indexOf","correctAnswer","nextBtn","getSelectedOptionIndex","i","skipQuestion","navigate","nextQuestion","selectedOptionClass","correctAnswerClass","isOptionSelected","previousQuestion","isCorrectAnswer","option","selectOption","isCorrect","updateScore","score","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/macbookpro/OneSchool/rxjs/redux-quiz/apps/quiz-redux-app/src/app/quiz/quiz.component.ts","/Users/macbookpro/OneSchool/rxjs/redux-quiz/apps/quiz-redux-app/src/app/quiz/quiz.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Question, Quiz } from './quiz.interface';\nimport { Store, select } from '@ngrx/store';\nimport { QuizActions } from '../+state/quiz-app.actions';\nimport { Observable, combineLatest, map } from 'rxjs';\nimport { Router } from '@angular/router';\nimport {\n  selectCorrectAnswer,\n  selectCurrentQuestion,\n  selectCurrentQuestionIndex,\n  selectCurrentScore,\n  selectSelectedOption,\n  selectTotalQuestions,\n} from '../+state/quiz-app.selectors';\n\n@Component({\n  selector: 'quiz-app-quiz',\n  templateUrl: './quiz.component.html',\n  styleUrls: ['./quiz.component.scss'],\n})\nexport class QuizComponent implements OnInit {\n  questions$!: Observable<Question[]>;\n  currentQuestionIndex$!: Observable<number | null>;\n  totalQuestions$!: Observable<number | null>;\n  currentQuestion$!: Observable<Question | undefined>;\n  correctAnswer$!: Observable<string>;\n  currentScore$!: Observable<number>;\n  isFirstQuestion$!: Observable<boolean>;\n  isLastQuestion$!: Observable<boolean>;\n  isOptionSelected = false;\n  quizText!: string;\n  selectedOption: string | null = null;\n  selectedOptionClass: string | null = null;\n  correctAnswerClass: string | null = null;\n  selectedOptionIndex$!: Observable<number | null>;\n  nextBtn = 'Next';\n  // state: Quiz = {\n  //   totalQuestions: 0,\n  //   current_score: 0,\n  //   total_score: 0,\n  //   questions: [],\n  //   options: [],\n  //   currentQuestion: '',\n  //   current_Question_Index: 0,\n  // };\n\n  constructor(private store: Store, private router: Router) {}\n\n  ngOnInit(): void {\n    this.store.dispatch(QuizActions.loadQuestions());\n    this.currentQuestionIndex$ = this.store.pipe(\n      select(selectCurrentQuestionIndex),\n      map((index) => index + 1)\n    );\n    this.totalQuestions$ = this.store.pipe(select(selectTotalQuestions));\n    this.currentQuestion$ = this.store.pipe(select(selectCurrentQuestion));\n    this.totalQuestions$ = this.store.pipe(select(selectTotalQuestions));\n    this.correctAnswer$ = this.store.pipe(select(selectCorrectAnswer));\n    this.currentScore$ = this.store.pipe(select(selectCurrentScore));\n    // for previous question\n    this.isFirstQuestion$ = this.currentQuestionIndex$.pipe(\n      map((index) => index === 1)\n    );\n\n    this.isLastQuestion$ = combineLatest([\n      this.currentQuestionIndex$,\n      this.totalQuestions$,\n    ]).pipe(\n      map(([index, totalQuestions]) => {\n        console.log('Total Questions:', totalQuestions);\n        const lastQuestion = (index ?? 0) > (totalQuestions ?? 0);\n        return lastQuestion;\n      })\n    );\n    // ===============================\n    this.store\n      .pipe(select(selectSelectedOption))\n      .subscribe((selectedOption: string | null) => {\n        this.selectedOption = selectedOption;\n      });\n    this.selectedOptionIndex$ = this.currentQuestion$.pipe(\n      map((currentQuestion) => {\n        if (currentQuestion) {\n          return currentQuestion.options.indexOf(this.selectedOption || '');\n        }\n        return null;\n      })\n    );\n    //this is only to show in console and otherwise not working at all\n    this.correctAnswer$.subscribe((correctAnswer) =>\n      console.log('Correct Answer:', correctAnswer)\n    );\n    this.currentQuestionIndex$.subscribe((index) => {\n      console.log('Current Question Index:', index);\n    });\n    this.currentQuestionIndex$.subscribe((index) => {\n      if (index && index === 10) {\n        this.nextBtn = 'Complete';\n      }\n    });\n  }\n\n  getSelectedOptionIndex(i: number): Observable<boolean> {\n    return this.selectedOptionIndex$.pipe(\n      map((index) => index === i && this.selectedOption !== null)\n    );\n  }\n  // setCurrentQuestion(index: number) {\n  //   this.quizText = 'Redux Angular Quiz';\n  //   this.store.dispatch(QuizActions.setCurrentQuestionIndex({ index }));\n  // }\n\n  skipQuestion() {\n    console.log('skip');\n    this.store.dispatch(QuizActions.skipQuestion());\n    this.currentQuestionIndex$.subscribe((index) => {\n      if (index && index > 10) {\n        this.router.navigate(['/skip']);\n      }\n    });\n  }\n  nextQuestion() {\n    this.store.dispatch(QuizActions.nextQuestion());\n    // reset styling\n    this.selectedOption = null;\n    this.selectedOptionClass = null;\n    this.correctAnswerClass = null;\n    this.isOptionSelected = false;\n\n    this.currentQuestionIndex$.subscribe((index) => {\n      if (index && index > 10) {\n        this.router.navigate(['/result']);\n      }\n    });\n  }\n  previousQuestion() {\n    this.store\n      .pipe(select(selectSelectedOption))\n      .subscribe((selectedOption: string | null) => {\n        console.log('Selected Option:', selectedOption);\n\n        // Dispatch the action after logging if necessary\n        this.store.dispatch(QuizActions.previousQuestion());\n      });\n  }\n  isCorrectAnswer(option: string): boolean {\n    let correctAnswer: string | undefined;\n    this.store\n      .pipe(select(selectCurrentQuestion))\n      .subscribe((currentQuestion) => {\n        if (currentQuestion) {\n          correctAnswer = currentQuestion.correctAnswer;\n        }\n      });\n\n    return !!correctAnswer && correctAnswer === option;\n  }\n\n  // Function to handle option selection\n  // selectOption(option: string) {\n  //   if (!this.selectedOption) {\n  //     this.selectedOption = option;\n  //     console.log('Selected Option:', this.selectedOption);\n  //     const isCorrect = this.isCorrectAnswer(option);\n\n  //     this.store.dispatch(QuizActions.selectOption({ option, isCorrect }));\n  //     if (isCorrect) {\n  //       this.store.dispatch(QuizActions.updateScore({ score: 1 }));\n  //     }\n\n  //     this.selectedOptionClass = isCorrect\n  //       ? 'correct-answer'\n  //       : 'incorrect-answer';\n  //     this.correctAnswerClass = 'correct-answer';\n  //     this.isOptionSelected = true;\n  //   }\n  // }\n  selectOption(option: string) {\n    if (!this.selectedOption) {\n      this.selectedOption = option;\n      console.log('Selected Option:', this.selectedOption);\n      const isCorrect = this.isCorrectAnswer(option);\n\n      // Update the state with the selected option\n      this.store.dispatch(QuizActions.selectOption({ option, isCorrect }));\n      if (isCorrect) {\n        this.store.dispatch(QuizActions.updateScore({ score: 1 }));\n      }\n\n      this.selectedOptionClass = isCorrect\n        ? 'correct-answer'\n        : 'incorrect-answer';\n      this.correctAnswerClass = 'correct-answer';\n      this.isOptionSelected = true;\n    }\n  }\n}\n","<section class=\"section-1\" id=\"section-1\">\n  <main>\n    <ng-container>\n      <div\n        *ngIf=\"{\n          currentQuestion: currentQuestion$ | async,\n          totalQuestions: totalQuestions$ | async\n        } as data\"\n      >\n        <div *ngIf=\"data.currentQuestion\">\n          <h3 class=\"text-container\">Redux Angular Quiz</h3>\n          <div class=\"flex\">\n            <p>\n              {{ currentQuestionIndex$ | async }}/{{ totalQuestions$ | async }}\n            </p>\n            <p>\n              Score: {{ currentScore$ | async }}/{{ totalQuestions$ | async }}\n            </p>\n          </div>\n\n          <p class=\"question-style\">{{ data.currentQuestion.question }}</p>\n          <div class=\"quiz-options\">\n            <button\n              class=\"option-btn\"\n              [ngClass]=\"{\n                'selected-option': selectedOption === option,\n                'correct-answer':\n                  correctAnswerClass === 'correct-answer' &&\n                  isCorrectAnswer(option),\n                'selected-previous': getSelectedOptionIndex(i) | async\n              }\"\n              *ngFor=\"let option of data.currentQuestion.options; let i = index\"\n              (click)=\"selectOption(option)\"\n            >\n              <span class=\"alphabet\">{{ i + 1 }}</span>\n              {{ option }}\n            </button>\n          </div>\n          <div class=\"btn-flex\">\n            <button\n              class=\"next-btn\"\n              (click)=\"previousQuestion()\"\n              [disabled]=\"isFirstQuestion$ | async\"\n            >\n              Previous\n            </button>\n            <button class=\"next-btn\" (click)=\"skipQuestion()\">Skip</button>\n            <button\n              class=\"next-btn\"\n              (click)=\"nextQuestion()\"\n              [disabled]=\"!isOptionSelected\"\n            >\n              {{ nextBtn }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </main>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}