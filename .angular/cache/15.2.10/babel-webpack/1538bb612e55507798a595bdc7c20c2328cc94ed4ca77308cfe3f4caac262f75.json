{"ast":null,"code":"import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport { QUIZ_APP_FEATURE_KEY } from './quiz-app.reducer';\n// Get the feature state\nexport const selectQuizState = createFeatureSelector(QUIZ_APP_FEATURE_KEY);\nexport const selectCurrentQuestionNumber = createSelector(selectQuizState, state => state.currentQuestionNumber);\nexport const selectTotalQuestions = createSelector(selectQuizState, state => {\n  console.log('total', state.questions.length);\n  return state.questions.length;\n});\nexport const selectCategories = createSelector(selectQuizState, state => state.categories);\nexport const selectScore = createSelector(selectQuizState, state => state.score);\nexport const selectQuestions = createSelector(selectQuizState, state => state.questions);\nexport const selectCurrentQuestion = createSelector(selectQuestions, selectCurrentQuestionNumber, (questions, currentQuestionNumber) => {\n  console.log('hi', questions);\n  console.log('currentQuestionNumber:', currentQuestionNumber);\n  const adjustedIndex = currentQuestionNumber - 1;\n  return {\n    ...questions[adjustedIndex],\n    options: questions[adjustedIndex]?.incorrectAnswers.concat(questions[adjustedIndex]?.correctAnswer).sort() || []\n  };\n});\nexport const selectCorrectAnswer = createSelector(selectCurrentQuestion, currentQuestion => {\n  console.log('correct', currentQuestion?.correctAnswer);\n  return currentQuestion?.correctAnswer;\n});\nexport const selectSelectedOption = createSelector(selectQuizState, state => {\n  console.log('selected', state.response);\n  return state.response;\n});\nexport const selectUserResponses = createSelector(selectQuizState, state => {\n  console.log('Responses saved as', state.userResponses);\n  return state.userResponses;\n});\nexport const selectCompleteQuiz = createSelector(selectQuestions, selectCurrentQuestion, selectScore, selectCurrentQuestionNumber, selectTotalQuestions, selectSelectedOption, selectUserResponses, selectCorrectAnswer, (questions, currentQuestion, score, questionNumber, totalQuestions, response, userResponses, correctAnswer) => ({\n  questions,\n  currentQuestion,\n  score,\n  questionNumber,\n  totalQuestions,\n  response,\n  userResponses,\n  correctAnswer\n}));","map":{"version":3,"mappings":"AAAA,SAASA,cAAc,EAAEC,qBAAqB,QAAQ,aAAa;AACnE,SAASC,oBAAoB,QAAQ,oBAAoB;AAGzD;AACA,OAAO,MAAMC,eAAe,GAC1BF,qBAAqB,CAAOC,oBAAoB,CAAC;AAEnD,OAAO,MAAME,2BAA2B,GAAGJ,cAAc,CACvDG,eAAe,EACdE,KAAW,IAAKA,KAAK,CAACC,qBAAqB,CAC7C;AAED,OAAO,MAAMC,oBAAoB,GAAGP,cAAc,CAChDG,eAAe,EACdE,KAAW,IAAI;EACdG,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEJ,KAAK,CAACK,SAAS,CAACC,MAAM,CAAC;EAC5C,OAAON,KAAK,CAACK,SAAS,CAACC,MAAM;AAC/B,CAAC,CACF;AACD,OAAO,MAAMC,gBAAgB,GAAGZ,cAAc,CAC5CG,eAAe,EACdE,KAAK,IAAKA,KAAK,CAACQ,UAAU,CAC5B;AAED,OAAO,MAAMC,WAAW,GAAGd,cAAc,CACvCG,eAAe,EACdE,KAAW,IAAKA,KAAK,CAACU,KAAK,CAC7B;AAED,OAAO,MAAMC,eAAe,GAAGhB,cAAc,CAC3CG,eAAe,EACdE,KAAK,IAAKA,KAAK,CAACK,SAAS,CAC3B;AAED,OAAO,MAAMO,qBAAqB,GAAGjB,cAAc,CACjDgB,eAAe,EACfZ,2BAA2B,EAC3B,CAACM,SAAS,EAAEJ,qBAAqB,KAAI;EACnCE,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEC,SAAS,CAAC;EAC5BF,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEH,qBAAqB,CAAC;EAC5D,MAAMY,aAAa,GAAGZ,qBAAqB,GAAG,CAAC;EAE/C,OAAO;IACL,GAAGI,SAAS,CAACQ,aAAa,CAAC;IAC3BC,OAAO,EACLT,SAAS,CAACQ,aAAa,CAAC,EAAEE,gBAAgB,CACvCC,MAAM,CAACX,SAAS,CAACQ,aAAa,CAAC,EAAEI,aAAa,CAAC,CAC/CC,IAAI,EAAE,IAAI;GAChB;AACH,CAAC,CACF;AAED,OAAO,MAAMC,mBAAmB,GAAGxB,cAAc,CAC/CiB,qBAAqB,EACpBQ,eAAe,IAAI;EAClBjB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEgB,eAAe,EAAEH,aAAa,CAAC;EACtD,OAAOG,eAAe,EAAEH,aAAa;AACvC,CAAC,CACF;AAED,OAAO,MAAMI,oBAAoB,GAAG1B,cAAc,CAACG,eAAe,EAAGE,KAAK,IAAI;EAC5EG,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEJ,KAAK,CAACsB,QAAQ,CAAC;EACvC,OAAOtB,KAAK,CAACsB,QAAQ;AACvB,CAAC,CAAC;AACF,OAAO,MAAMC,mBAAmB,GAAG5B,cAAc,CAACG,eAAe,EAAGE,KAAK,IAAI;EAC3EG,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEJ,KAAK,CAACwB,aAAa,CAAC;EACtD,OAAOxB,KAAK,CAACwB,aAAa;AAC5B,CAAC,CAAC;AAEF,OAAO,MAAMC,kBAAkB,GAAG9B,cAAc,CAC9CgB,eAAe,EACfC,qBAAqB,EACrBH,WAAW,EACXV,2BAA2B,EAC3BG,oBAAoB,EACpBmB,oBAAoB,EACpBE,mBAAmB,EACnBJ,mBAAmB,EACnB,CACEd,SAAS,EACTe,eAAe,EACfV,KAAK,EACLgB,cAAc,EACdC,cAAc,EACdL,QAAQ,EACRE,aAAa,EACbP,aAAa,MACT;EACJZ,SAAS;EACTe,eAAe;EACfV,KAAK;EACLgB,cAAc;EACdC,cAAc;EACdL,QAAQ;EACRE,aAAa;EACbP;CACD,CAAC,CACH","names":["createSelector","createFeatureSelector","QUIZ_APP_FEATURE_KEY","selectQuizState","selectCurrentQuestionNumber","state","currentQuestionNumber","selectTotalQuestions","console","log","questions","length","selectCategories","categories","selectScore","score","selectQuestions","selectCurrentQuestion","adjustedIndex","options","incorrectAnswers","concat","correctAnswer","sort","selectCorrectAnswer","currentQuestion","selectSelectedOption","response","selectUserResponses","userResponses","selectCompleteQuiz","questionNumber","totalQuestions"],"sourceRoot":"","sources":["/Users/macbookpro/OneSchool/rxjs/redux-quiz/apps/quiz-redux-app/src/app/+state/quiz-app.selectors.ts"],"sourcesContent":["import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport { QUIZ_APP_FEATURE_KEY } from './quiz-app.reducer';\nimport { Quiz } from '../quiz/quiz.interface';\n\n// Get the feature state\nexport const selectQuizState =\n  createFeatureSelector<Quiz>(QUIZ_APP_FEATURE_KEY);\n\nexport const selectCurrentQuestionNumber = createSelector(\n  selectQuizState,\n  (state: Quiz) => state.currentQuestionNumber\n);\n\nexport const selectTotalQuestions = createSelector(\n  selectQuizState,\n  (state: Quiz) => {\n    console.log('total', state.questions.length);\n    return state.questions.length;\n  }\n);\nexport const selectCategories = createSelector(\n  selectQuizState,\n  (state) => state.categories\n);\n\nexport const selectScore = createSelector(\n  selectQuizState,\n  (state: Quiz) => state.score\n);\n\nexport const selectQuestions = createSelector(\n  selectQuizState,\n  (state) => state.questions\n);\n\nexport const selectCurrentQuestion = createSelector(\n  selectQuestions,\n  selectCurrentQuestionNumber,\n  (questions, currentQuestionNumber) => {\n    console.log('hi', questions);\n    console.log('currentQuestionNumber:', currentQuestionNumber);\n    const adjustedIndex = currentQuestionNumber - 1;\n\n    return {\n      ...questions[adjustedIndex],\n      options:\n        questions[adjustedIndex]?.incorrectAnswers\n          .concat(questions[adjustedIndex]?.correctAnswer)\n          .sort() || [],\n    };\n  }\n);\n\nexport const selectCorrectAnswer = createSelector(\n  selectCurrentQuestion,\n  (currentQuestion) => {\n    console.log('correct', currentQuestion?.correctAnswer);\n    return currentQuestion?.correctAnswer;\n  }\n);\n\nexport const selectSelectedOption = createSelector(selectQuizState, (state) => {\n  console.log('selected', state.response);\n  return state.response;\n});\nexport const selectUserResponses = createSelector(selectQuizState, (state) => {\n  console.log('Responses saved as', state.userResponses);\n  return state.userResponses;\n});\n\nexport const selectCompleteQuiz = createSelector(\n  selectQuestions,\n  selectCurrentQuestion,\n  selectScore,\n  selectCurrentQuestionNumber,\n  selectTotalQuestions,\n  selectSelectedOption,\n  selectUserResponses,\n  selectCorrectAnswer,\n  (\n    questions,\n    currentQuestion,\n    score,\n    questionNumber,\n    totalQuestions,\n    response,\n    userResponses,\n    correctAnswer\n  ) => ({\n    questions,\n    currentQuestion,\n    score,\n    questionNumber,\n    totalQuestions,\n    response,\n    userResponses,\n    correctAnswer,\n  })\n);\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}